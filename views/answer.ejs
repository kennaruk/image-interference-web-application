
<div class="row bg-primary" >
  <div class="col-md-12 p-3 bg-dark" style="height:10vh;">
    <h1 class="text-white text-center">ภาพใดอยู่ในภาพข้างต้น</h1>
  </div>
</div>

<div class="row" style="height:40vh;">
  <div class="bg-secondary col-md-3 p-3"> <br> <br> <br> <br>
    <img id="answer-1" class="d-block img-fluid img-thumbnail mx-auto h-50 w-75" src="<%= answers_images[0] %>"> </div>
  <div class="bg-secondary col-md-3 p-3"> <br> <br> <br> <br>
    <img id="answer-2" class="d-block img-fluid img-thumbnail mx-auto h-50 w-75" src="<%= answers_images[1] %>"> </div>
  <div class="bg-secondary col-md-3 p-3"> <br> <br> <br> <br>
    <img id="answer-3" class="d-block img-fluid img-thumbnail mx-auto h-50 w-75" src="<%= answers_images[2] %>"> </div>
  <div class="bg-secondary col-md-3 p-3"> <br> <br> <br> <br>
    <img id="answer-4" class="d-block img-fluid img-thumbnail mx-auto h-50 w-75" src="<%= answers_images[3] %>"> </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
  $('#answer-1').click(() => {
    sendAnswer(1);
  });
  $('#answer-2').click(() => {
    sendAnswer(2);
  });
  $('#answer-3').click(() => {
    sendAnswer(3);
  });
  $('#answer-4').click(() => {
    sendAnswer(4);
  });
  function sendAnswer(choice) {

    swal("รอสักครู่ระบบกำลังตรวจสอบคำตอบ", {
      button: false,
    });
    
    $.ajax({
      url: '/trial/<%= trial_no %>',
      type: 'POST',
      data: {
        trial_no: <%= trial_no %>,
        answer: choice
      },
      success: (payload) => {
        if(payload) 
          swal("ถูก", "ยินดีด้วย คุณความจำเป็นเลิศ ไปต่อเลย!", "success").then(() => {
            window.location.href = '/trial';
          });
        else
          swal("ผิด", "เสียใจด้วย โอกาสหน้าลองใหม่นะ", "error").then(() => {
            window.location.href = '/trial';
          });
      }
    });
  }
</script>